schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 8cdcf94c001951d12a683ec2bb81c153
      size: 1048
    - path: train
      md5: b327c642538be3874f0856f44292f621.dir
      size: 571915376
      nfiles: 25000
    outs:
    - path: dataset_dogs_and_cats
      md5: 82f1195a2a6a80669ea64fd05cc22732.dir
      size: 571915376
      nfiles: 25000
  train:
    cmd: python src/train.py
    deps:
    - path: dataset_dogs_and_cats
      md5: 82f1195a2a6a80669ea64fd05cc22732.dir
      size: 571915376
      nfiles: 25000
    - path: src/train.py
      md5: b7baa01c34208b44f3e56455361aec62
      size: 2168
    params:
      params.yaml:
        train:
          lr: 0.005
          momentum: 0.95
          epochs: 2
    outs:
    - path: history.pkl
      md5: afb973c4f6638a2728e2518213a05a5a
      size: 148
    - path: model.h5
      md5: 1bc1d6b89751996bccd2baa22b45105b
      size: 84637304
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: history.pkl
      md5: afb973c4f6638a2728e2518213a05a5a
      size: 148
    - path: model.h5
      md5: 1bc1d6b89751996bccd2baa22b45105b
      size: 84637304
    - path: src/evaluate.py
      md5: 23ca865c0ba8e25d45ba12b01df99440
      size: 2345
    outs:
    - path: plot.json
      md5: cee9e07c71e9ee9ab1767870cc1ef8db
      size: 136
    - path: score.json
      md5: ffa6e3961351b4b18463ad2f1ba9d79b
      size: 27
