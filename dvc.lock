schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 8a073ef60d11a2157ad1fe3dca757118
      size: 1465
    - path: train
      md5: b327c642538be3874f0856f44292f621.dir
      size: 571915376
      nfiles: 25000
    outs:
    - path: dataset_dogs_and_cats
      md5: 82f1195a2a6a80669ea64fd05cc22732.dir
      size: 571915376
      nfiles: 25000
    - path: train_dataset.txt
      md5: 12811718fb03c499eba74116ce5e905a
      size: 880871
  train:
    cmd: python src/train.py
    deps:
    - path: dataset_dogs_and_cats
      md5: 82f1195a2a6a80669ea64fd05cc22732.dir
      size: 571915376
      nfiles: 25000
    - path: src/train.py
      md5: ebb865424aa6308880cfeb8dbc4aa29a
      size: 2224
    params:
      params.yaml:
        train:
          lr: 0.005
          momentum: 0.95
          epochs: 1
    outs:
    - path: history.pkl
      md5: 4f4a236bd85a476f529ae37d8d5b90d9
      size: 108
    - path: model.h5
      md5: e07bb18322b932c83a9b38615fde8bc9
      size: 84637304
    - path: weights.h5
      md5: d5df97ac43b0bd6cc6a474fde44165f0
      size: 71760672
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: history.pkl
      md5: 4f4a236bd85a476f529ae37d8d5b90d9
      size: 108
    - path: model.h5
      md5: e07bb18322b932c83a9b38615fde8bc9
      size: 84637304
    - path: src/evaluate.py
      md5: 23ca865c0ba8e25d45ba12b01df99440
      size: 2345
    outs:
    - path: plot.json
      md5: 8cf2fc54adc37b9eb0e131c611a7d20b
      size: 71
    - path: score.json
      md5: 0b330d84fb9e05d09cbdca4b73229b63
      size: 26
